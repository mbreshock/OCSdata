install.packages("xlsx")
install.packages('readxl')
install.packages('httr')
# Use httr's GET() and read_excel() to read in file
GET(url, write_disk(tf <- tempfile(fileext = ".xls")))
?GET
??GET
write.xlsx(brady, file = here::here("data", "energ_use_per_person.xlsx"))
library(httr)
source('~/Desktop/JHU/OCS/testing123/load_xlsx_test.R')
library(httr)
library(httr)
library(readxl)
library(xlsx)
url = 'https://github.com/opencasestudies/ocs-bp-co2-emissions/blob/master/data/energy_use_per_person.xlsx?raw=true'
# Use httr's GET() and read_excel() to read in file
GET(url, write_disk(tf <- tempfile(fileext = ".xls")))
energy <- read_excel(tf, sheet = 1)
write.xlsx(brady, file = here::here("data", "energ_use_per_person.xlsx"))
library(httr)
library(readxl)
library(xlsx)
url = 'https://github.com/opencasestudies/ocs-bp-co2-emissions/blob/master/data/energy_use_per_person.xlsx?raw=true'
# Use httr's GET() and read_excel() to read in file
GET(url, write_disk(tf <- tempfile(fileext = ".xls")))
energy <- read_excel(tf, sheet = 1)
write.xlsx(energy, file = here::here("data", "energ_use_per_person.xlsx"))
library(httr)
library(readxl)
library(xlsx)
url = 'https://github.com/opencasestudies/ocs-bp-co2-emissions/blob/master/data/energy_use_per_person.xlsx?raw=true'
# Use httr's GET() and read_excel() to read in file
GET(url, write_disk(tf <- tempfile(fileext = ".xlsx")))
energy <- read_excel(tf, sheet = 1)
write.xlsx(energy, file = here::here("data", "energ_use_per_person.xlsx"))
source('~/Desktop/JHU/OCS/testing123/load_xlsx_test.R')
remove.packages('OCSdata')
library(OCSdata)
devtools::install_github('mbreshock/OCSdata')
OCSdata::load_co2_data()
setwd("~/Desktop/JHU/OCS/OCSdata")
setwd("~/Desktop/JHU/OCS/testing123")
devtools::document()
devtools::document()
install.packages('writexl')
package.Version('writexl')
packageVersion('writexl')
devtools::document()
devtools::document()
library(OCSdata)
load_co2_data('/Users/michael/Desktop/')
OCSdata::wide_US
OCSdata::data_long
library(OCSdata)
devtools::document()
devtools::document()
namespace:OCSdata
devtools::document()
devtools::document()
devtools::document()
library(OCSdata)
install.packages('gh')
library(gh)
repos = gh('/orgs/opencasestudies/repos', .limit=Inf)
repos
length(repos)
data_frame(repo=repos %>% map_chr('name'))
install.packages('tibble')
library(tibble)
data_frame(repo=repos %>% map_chr('name'))
tibble(repo=repos %>% map_chr('name'))
install.packages('tidyverse')
tibble(repo=repos %>% map_chr('name'))
library(tidyverse)
tibble(repo=repos %>% map_chr('name'))
curl \
-X POST \
-H "Accept: application/vnd.github.v3+json" \
https://api.github.com/repos/octocat/hello-world/git/trees \
-d '{"tree":[{"path":"path","mode":"mode","type":"type","sha":"sha","content":"content"}]}'
download.file("https://api.github.com/repos/opencasestudies/ocs-bp-co2-emissions/git/blobs/d91fb258c5c4a0fab74fff77845231e3ddacf1c1",
destfile = '/Users/michael/Desktop/', method = 'curl')
download.file("https://api.github.com/repos/opencasestudies/ocs-bp-co2-emissions/git/blobs/d91fb258c5c4a0fab74fff77845231e3ddacf1c1",
destfile = '/Users/michael/Desktop/disasters.csv', method = 'curl')
library(httr)
GET("https://api.github.com/repos/opencasestudies/ocs-bp-co2-emissions/git/blobs/d91fb258c5c4a0fab74fff77845231e3ddacf1c1")
GET('https://api.github.com/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1')
co2repo = GET('https://api.github.com/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1')
co2repo
View(co2repo)
attributes(co2repo)
View(co2repo)
tibble(file = co2repo %>% map_chr('path'))
co2 = gh('/orgs/opencasestudies/ocs-bp-co2-emissions/',.limit=Inf)
co2 = gh('/repos/opencasestudies/ocs-bp-co2-emissions/',.limit=Inf)
co2 = gh('/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1',.limit=Inf)
> tibble(file = co2 %>% map_chr('path'))
> tibble(file = co2 %>% map_chr('name'))
> tibble(repo = co2 %>% map_chr('name'))
co2
files = co2 %>% map_chr('path')
rlang::last_error()
files = co2 %>% map_chr('name')
co2
co2 = gh('/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1',.limit=Inf)
View(co2)
co2 <- gh("/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1", .limit = Inf)
iss_df <-
data_frame(
repo = co2 %>% map_chr("path"),
issue = repo %>%
map(~ gh(repo = .x, endpoint = "/repos/opencasestudies/ocs-bp-co2-emissions/:repo/",
.limit = Inf))
)
str(iss_df, max.level = 1)
rlang::last_error()
co2
repos <- gh("/users/ironholds/repos", .limit = Inf)
length(repos)
repos
repo = co2 %>% map_chr("path")
co2 %>% map_chr("path")
repos %>% map_chr("name")
repos <- gh("/users/ironholds/repos", .limit = Inf)
repos
co2
co2 <- gh("/orgs/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1", .limit = Inf)
co2 <- gh("/orgs/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1", .limit = Inf)
co2repo
co2repo %>% map_chr("path")
repos <- gh("/orgs/opencasestudies/repos", .limit = Inf)
tibble(repo = repos %>% map_chr("name")) # this will list them
repos
co2
co2 %>% map_chr("sha")
co2 %>% map_chr("url")
head(co2)
co2 %>% map_chr("tree")
str(co2)
co2[1]
co2[1] %>% map_chr("path")
co2[[1]]
co2[2]
co2[3]
co2[3] %>% map_chr("path")
dim(co2)
unlist(co2)
unlist_co2 = unlist(co2)
unlist_co2 %>% map_chr("path")
unlist_co2 %>% map_chr("tree.path")
unlist_co2 %>% map_chr("tree.path")
unlist(co2,recursive = FALSE)
un_co2 = unlist(co2,recursive = FALSE)
View(un_co2)
un_co2 %>% map_chr("path")
unlist(un_co2,recursive = FALSE)
unlist_co2 = unlist(un_co2,recursive = FALSE)
View(unlist_co2)
unlist_co2 %>% map_chr("path")
unlist_co2[[tree1.path]]
unlist_co2[["tree1.path"]]
attributes(unlist_co2)
head(un_co2)
head(unlist_co2)
co2 <- gh("/orgs/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1", .limit = Inf)
library(gh)
library(tidyverse)
co2 <- gh("/orgs/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1", .limit = Inf)
co2 <- gh("/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1", .limit = Inf)
str(unlist(co2, recursive = FALSE))
unlist(co2, recursive = FALSE) %>% map('path')
co2_files = unlist(co2, recursive = FALSE) %>% map('path')
View(co2_files)
head(co2_files)
library(gh)
library(tidyverse)
co2 <- gh("/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1", .limit = Inf)
unlist(co2, recursive = FALSE) %>% map("path")
co2 <- gh("/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1", .limit = Inf)
paths = unlist(co2, recursive = FALSE) %>% map("path")
View(paths)
for fname in paths{
print(path)
}
for (fname in paths){
print(fname)
}
paste0("https://raw.githubusercontent.com/opencasestudies/ocs-bp-co2-emissions/master/","data/mortality.csv")
library(httr)
library(tidyverse)
api_response = GET(url="https://api.github.com/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1")
api_response
View(api_response)
api_response = GET(url="https://api.github.com/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1",.limit = Inf)
View(api_response)
content(api_response)
co2_get = content(api_response)
unlist(co2,recursive=FALSE) %>% map('path')
View(co2_get)
unlist(co2_get, recursive = FALSE)
unlist(co2_get, recursive = FALSE) %>% map('path')
unlist(co2_get, recursive = FALSE) %>% map('path')
1==1
api_response1 = GET(url="https://api.github.com/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1")
api_response == api_response1
co2 <- gh("/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1", .limit = Inf)
paths = unlist(co2, recursive = FALSE) %>% map("path")
libraryy(gh)
library(gh)
co2 <- gh("/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1", .limit = Inf)
paths = unlist(co2, recursive = FALSE) %>% map("path")
api_response = GET(url="https://api.github.com/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1")
co2_GET = content(api_response)
paths_GET = unlist(co2_GET, recursive = FALSE) %>% map('path')
paths == paths_GET
View(paths_GET)
library(gh)
library(httr)
library(tidyverse)
api_response = GET(url="https://api.github.com/repos/opencasestudies/ocs-bp-co2-emissions/git/trees/master?recursive=1")
paths_GET = content(api_response) %>% unlist(recursive = FALSE) %>% map('path')
View(paths_GET)
??unlist
??map
?grep
?grepl
grepl('.csv','data/disasters.csv',fixed = TRUE)
past0('https://raw.githubusercontent.com/opencasestudies/ocs-bp-co2-emissions/master/','data/disasters.csv')
paste0('https://raw.githubusercontent.com/opencasestudies/ocs-bp-co2-emissions/master/','data/disasters.csv')
paste0('https://github.com/opencasestudies/ocs-bp-co2-emissions/blob/master/','data/energy_use_per_person.xlsx','?raw=true')
source('~/Desktop/JHU/OCS/testing123/load_data.R')
load_data()
setwd("~/Desktop/JHU/OCS/testing123")
setwd("~/Desktop/JHU/OCS/testing123")
drop_na(paths_GET)
drop_na(paths_GET)
?sapply
paths_GET[!sapply(paths_GET,is.null)]
source('~/Desktop/JHU/OCS/testing123/load_data.R')
setwd("~/Desktop/JHU/OCS/testing123")
load_data()
library(httr)
library(readxl)
library(writexl)
load_data()
source('~/Desktop/JHU/OCS/testing123/load_data.R')
load_data()
setwd("~/Desktop/JHU/OCS/OCSdata/R")
devtools::document()
library(OCSdata)
flex_load_data('Users/michael/Desktop/')
setwd("~/Desktop")
source('~/Desktop/JHU/OCS/testing123/load_data.R')
load_data('/Users/michael/Desktop/')
flex_load_data('/Users/michael/Desktop/')
flex_load_data()
?content
devtools::document()
setwd("~/Desktop/JHU/OCS/OCSdata")
devtools::document()
library(OCSdata)
?flex_load_data
package_version('purrr')
package_version(purrr)
package_version(httr)
package_version('httr')
library(tidyverse)
setwd("~/Desktop/JHU/OCS/OCSdata")
devtools::document()
library(OCSdata)
setwd("~/Desktop")
flex_load_data()
devtools::document()
setwd("~/Desktop/JHU/OCS/OCSdata")
devtools::document()
usethis::use_pipe()
devtools::document()
devtools::document()
library(OCSdata)
flex_load_data('/Users/michael/Desktop')
devtools::document()
packageVersion('httr')
packageVersion('magrittr')
packageVersion('purrr')
packageVersion('readxl')
devtools::document()
devtools::document()
library(OCSdata)
flex_load_data('/Users/michael/Desktop')
remove.packages('OCSdata')
setwd("~/Desktop")
devtools::install_github('mbreshock/OCSdata')
setwd("~/Desktop")
OCSdata::flex_load_data()
OCSdata::flex_load_data()
